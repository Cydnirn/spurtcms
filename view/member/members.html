{{template "header" .}}
{{template "head" .}}
{{$Translate := .translate}}

{{$THEMECOLOR := ""}}
{{$TEXTCOLOR := ""}}
{{$BORDERCOLOR := ""}}

{{ if eq .Menu.Personalize.MenuBackgroundColor "rgb(242, 102, 116)"}}
{{$THEMECOLOR = "bgclr1"}} {{$TEXTCOLOR = "txtclr1"}} {{$BORDERCOLOR = "brclr1"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(174, 62, 249)"}}
{{$THEMECOLOR = "bgclr2"}} {{$TEXTCOLOR = "txtclr2"}} {{$BORDERCOLOR = "brclr2"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(130, 189, 244)"}}
{{$THEMECOLOR = "bgclr3"}} {{$TEXTCOLOR = "txtclr3"}} {{$BORDERCOLOR = "brclr3"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(9, 171, 216)"}}
{{$THEMECOLOR = "bgclr4"}} {{$TEXTCOLOR = "txtclr4"}} {{$BORDERCOLOR = "brclr4"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(255, 222, 118)"}}
{{$THEMECOLOR = "bgclr5"}} {{$TEXTCOLOR = "txtclr5"}} {{$BORDERCOLOR = "brclr5"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(248, 131, 76)"}}
{{$THEMECOLOR = "bgclr6"}} {{$TEXTCOLOR = "txtclr6"}} {{$BORDERCOLOR = "brclr6"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(181, 224, 140)"}}
{{$THEMECOLOR = "bgclr7"}} {{$TEXTCOLOR = "txtclr7"}} {{$BORDERCOLOR = "brclr7"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(157, 204, 107)"}}
{{$THEMECOLOR = "bgclr8"}} {{$TEXTCOLOR = "txtclr8"}} {{$BORDERCOLOR = "brclr8"}}
{{else if eq .Menu.Personalize.MenuBackgroundColor "rgb(21, 32, 39)"}}
{{$THEMECOLOR = "bgclr9"}} {{$TEXTCOLOR = "txtclr9"}} {{$BORDERCOLOR = "brclr9"}}
{{else}}
{{$THEMECOLOR = "bgclr-default"}} {{$TEXTCOLOR = "txtclr-default"}} {{$BORDERCOLOR = "brclr-default"}}
{{end}}

<div class="page-wrapper">

    {{template "membertab" .}}

    <div class="all-tab-content" id="groupsContent">
        <!--1-->

        <div class="tablePagination-wrapper member-tablePagination-wrapper">
            <div class="table-responsive entries-table">
                <table class="table">
                    <caption class="table-caption">
                        <div class="caption-flexx">
                            <p class="para">
                                <span class="para">{{.Count}}</span>
                                {{if gt .Count 1}}{{$Translate.Memberss.Members}}{{else}}{{$Translate.Memberss.Member}}{{end}} {{$Translate.Available}}
                            </p>

                            <div class="transitionSearch active">
                                <form action="/member/" class="filterform" method="get" autocomplete="off">
                                <img src="/public/img/Magnifying-Glass.svg" alt=""  style="bottom: 5px;"/>
                                <input type="text" name="keyword" id="" placeholder="{{$Translate.Memberss.Searchmembers}}" value="{{.Filter.Keyword}}">
                                </form>
                            </div>
                            {{$MENU := .Menu}}
                            
                            {{range .Menu.TblModule}}
                            {{if eq .ModuleName "Members"}}
                            {{range .SubModule}}
                            {{if eq .ModuleName "Member"}}
                            {{range .Routes}}
                            {{if eq .DisplayName "Create"}}
                            <button class="btn-reg btn-sm primary {{$THEMECOLOR}}" data-bs-toggle="modal" id="addmember" data-bs-target="#memModal">
                                <img src="/public/img/add.svg" alt="" />{{$Translate.Memberss.Addmember}}
                            </button>
                            {{end}}
                            {{end}}
                            {{end}}
                            {{end}}
                            {{end}}
                            {{end}}
                        </div>
                    </caption>

                    <thead>
                        <tr>
                            <th style="width: 40%;">{{$Translate.Memberss.Name}}</th>
                            <th>{{$Translate.Memberss.Group}}</th>
                            <th>{{$Translate.Memberss.Createdon}}</th>
                            <th>{{$Translate.Memberss.Updatedon}}</th>
                            {{range $MENU.TblModule}} 
                            {{if eq .ModuleName "Members"}}
                             {{range .SubModule}}
                             {{if eq .ModuleName "Member"}}
                            {{if eq .Action true}} 
                            <th style="width:100px ;" >{{$Translate.Actions}}</th>
                             {{end}} 
                             {{end}}
                             {{end}}
                             {{end}}
                             {{end}}
        
                        </tr>
                    </thead>
                    <tbody>
                        {{if .Member}}
                        {{range .Member}}
                        <tr>
                            <td>
                                <div class="tbl-img-content member-detail">
                                {{if .ProfileImagePath}}
                                <div class="tbl-img">
                                    <img src="{{if .ProfileImagePath}}/{{.ProfileImagePath}}{{else}}/public/img/profile-avtar.svg{{end}}" alt="" id="mem-img">  

                                </div>
                                {{else}}
                               <div class="profile-name">  <span>{{.NameString}} </span></div>
                                {{end}}
                                <h4> {{.FirstName}} {{.LastName}}</h4>
                            </td>
                            <td> {{.GroupName}} </td> 
                            <td> {{.CreatedDate}} </td>

                            <td class="date"> {{.ModifiedDate}} </td>

                            {{$Id := .Id}}
                            <td {{range $MENU.TblModule}} {{if eq .ModuleName "Members"}} {{range .SubModule}}{{if eq .ModuleName "Member"}} {{if ne .Action true}} style="display: none;" {{end}} {{end}}{{end}}{{end}}{{end}}>
                                <div class="btn-group language-group">
                                    <button type="button" class="dropdown-toggle" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                        {{$Translate.Action}} <img src="/public/img/arrow-down.svg" alt="" />
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        {{range $MENU.TblModule}}
                                        {{if eq .ModuleName "Members"}}
                                        {{range .SubModule}}
                                        {{if eq .ModuleName "Member"}}
                                        {{range .Routes}}
                                        {{if eq .DisplayName "Update"}}
                                        <li>
                                            <button class="dropdown-item" type="button" id="editmem" data-id="{{$Id}}" data-bs-toggle="modal" data-bs-target="#memModal">
                                                <span><img src="/public/img/edit.svg" alt="" /></span>
                                                {{$Translate.Edit}}
                                            </button>
                                        </li>
                                        {{end}}
                                        {{if eq .DisplayName "Delete"}}
                                        <li>
                                            <button class="dropdown-item" type="button" id="del" data-id="{{$Id}}" data-bs-toggle="modal"
                                                data-bs-target="#centerModal">
                                                <span><img src="/public/img/delete.svg" alt="" /></span>
                                                {{$Translate.Delete}} 

                                            </button>
                                        </li>
                                        {{end}}
                                        {{end}}
                                        {{end}}
                                        {{end}}
                                        {{end}}
                                        {{end}}
                                    </ul>
                                </div>
                            </td>
                        </tr>
                        {{end}}
                        {{else}}
                        {{if .Filter.Keyword}}
                        <tr>
                            <td style="text-align: center;" colspan="8">
                                <div class="noData-foundWrapper">

                                    <div class="empty-folder">
                                        <img src="/public/img/folder-sh.svg" alt="">
                                        <img src="/public/img/shadow.svg" alt="">
                                    </div>
                                    <h1 class="heading">{{$Translate.Oopsnodata}}</h1>
                                </div>
                            </td>
                        </tr>
                        {{else}}
                        <tr>
                            <td style="text-align: center;" colspan="8">
                                <div class="noData-foundWrapper">

                                    <div class="empty-folder">
                                        <img src="/public/img/folder-sh.svg" alt="">
                                        <img src="/public/img/shadow.svg" alt="">
                                    </div>
                                    <h1 class="heading">{{$Translate.Oopsnodata}}</h1>
                                    <p class="para">
                                        {{$Translate.Pagesorry}}
                                        {{$Translate.Gobackhome}}
                                    </p>
                                    <a href="javascript:void(0)" data-bs-toggle="modal"  id="clickadd" data-bs-target="#memModal"  class="heading-three {{$TEXTCOLOR}}">{{$Translate.Clickadd}} >></a>
                                </div>
                            </td>
                        </tr>
                        {{end}}
                        {{end}}

                    </tbody>
                </table>
            </div>

            <div class="pogination flexx pagenation-padding">
                {{if .Page}}
                <ul class="flexx">
                    <li>
                        <a href="?page={{.Previous}}" {{if eq .CurrentPage 1}} class="disabled" {{end}}>
                            <img src="/public/img/carat-right.svg" alt="" />
                        </a>
                    </li>
                    {{range .Page}}
                    <li><a href="?page={{.}}" {{if eq $.CurrentPage .}} class="current {{$TEXTCOLOR}} {{$BORDERCOLOR}}" {{end}}>{{.}} </a></li>
                    {{end}}
                    <li>
                        <a href="?page={{.Next}}" {{if eq .CurrentPage .PageCount}} class="disabled " {{else}} class="next"
                            {{end}}>
                            <img src="/public/img/carat-right.svg" alt="" />
                        </a>
                    </li>
                </ul>
                {{end}}
                <p>{{.Paginationstartcount}} – {{.Paginationendcount}} of {{.Count}}</p>
            </div>
        </div>
    </div>
    <!--2-->
</div>
<!-- Center Modal -->
<div class="modal fade" id="memModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="title"> {{$Translate.Memberss.Addmember}} </h3>
                <button class='close' data-bs-dismiss="modal"> <img src="/public/img/modal-close.svg" alt="" />
                </button>
            </div>
            <div class="modal-body">
                <form action="/member/newmember" id="memberform" name="createmember" enctype="multipart/form-data" method="post">
                    <input type="hidden" name="csrf" value="{{.csrf}}">
                    <input type="hidden" name="mem_id" value="" id="mem_id">
                    <input type="hidden" name="memgrbpageno" id="memgrbpageno" value="">
                    <input type="hidden" name="crop_data">
            
                <h1 class="heading">{{$Translate.Memberss.Basicinfo}}</h1>
                <div class="update-account">
                    <div class="update-profile-img">
                        <img src="/public/img/default profile .svg" name="profpic" id="profpic" alt="">
                        <div class="name-string" style="display: none;"></div>

                        <div class="profile-info">
                        </div>
                        <button class="cam-logo" type="button">
                            <input id="myfile" name="prof_pic" type="file"> 
                            <img src="/public/img/cam-logo.svg" alt=""></button>
                    </div>
                    <div class="fill-account-details">
                        <div class="input-field-group">
                            <div class="input-group">
                                <label for="" class="input-label">{{$Translate.Memberss.Firstname}}</label>
                                <div class="ig-row">
                                    <input type="text" class="field" placeholder="{{$Translate.Memberss.Entermemname}}" value="" id="mem_name" name="mem_name">
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="" class="input-label">{{$Translate.Memberss.Lastname}}</label>
                                <div class="ig-row">
                                    <input type="text" class="field" placeholder="{{$Translate.Memberss.Enterlastname}}" value="" id="mem_lname" name="mem_lname">
                                </div>
                            </div>
                        </div>
                        <div class="input-field-group">
                            <div class="input-group">
                                <label for=""  class="input-label">{{$Translate.Memberss.Email}}</label>
                                <div class="ig-row">
                                    <input type="text" class="field" placeholder="{{$Translate.Memberss.Entermememail}}" value="" id="mem_email" name="mem_email">
                                </div>
                            </div>
                            <div class="input-group">
                                <label for=""  class="input-label">{{$Translate.Memberss.Mobile}}</label>
                                <div class="ig-row">
                                    <input type="text" class="field" placeholder="{{$Translate.Memberss.Entermemmobnum}}"
                                        id="mem_mobile" value="" name="mem_mobile" maxlength="13">
                                </div>
                            </div>
                        </div>
                        <div class="input-field-group">
                            <div class="input-group">
                                <label for=""  class="input-label">{{$Translate.Memberss.Username}}</label>
                                <div class="ig-row">
                                    <input type="text" class="field" placeholder="{{$Translate.Memberss.Enterusername}}" value="" id="mem_usrname" name="mem_usrname">
                                </div>
                            </div>
                            <div class="input-group">
                                <label for=""  class="input-label">{{$Translate.Memberss.Password}}</label>
                                <div class="ig-row">
                                    <input type="password" class="field" placeholder="{{$Translate.Memberss.Enterpswd}}" id="mem_pass" name="mem_pass">
                                    <button type="button" class="eye" id="eye">
                                        <img id="img" src="/public/img/eye-closed.svg" alt="">

                                    </button>

                                </div>
                            </div>
                        </div>
                        <div class="input-field-group">
                            
                            <div class="input-group  user-drop-down" id="memgrp">
                                <label for=""  class="input-label">{{$Translate.Memberss.Membergroup}}</label>
                                <a class="dropdown-toggle field" type="button" id="triggerId" data-bs-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false"> {{$Translate.Memberss.Choosegroup}}
                                  
                                </a>
                                <input type="hidden" name="membergroupid" id="membergroupid" value="">
                                <input type="hidden" name="membergroupvalue" id="membergroupvalue" value="">
                               
                                <div class="dropdown-menu" aria-labelledby="triggerId">
                                {{if .Group}}
                                {{range .Group}}
                                 <button class="dropdown-item dropdown-values" type="button" data-id="{{.Id}}">{{.Name}}</button>
                                {{end}}
                                {{else}}
                                <div class="noData-foundWrapper" style="margin-top: -40px;">

                                    <div class="empty-folder">
                                        <img style="max-width: 20px;" src="/public/img/folder-sh.svg" alt="">
                                        <img src="/public/img/shadow.svg" alt="">
                                    </div>
                                    <h1 style="text-align: center;font-size: 10px;" class="heading">{{$Translate.Oopsnodata}}</h1>
                                    
                                </div>
                                
                                {{end}}
                           
                                </div>
                                <label id="membergroupvalue-error" class="error" for="membergroupvalue" style="display: none;">* {{$Translate.Memberss.Selectmemerr}}</label>
                            </div>


                            <div class="active-toggle">
                                <div class="active-content">
                                    <h4 class="heading-four">{{$Translate.Memberss.Active}}</h4>
                                    <p class="para-light">{{$Translate.Memberss.Activetoggle}}</p>
                                </div>
                                <div class="toggle">
                                    
                                    <!-- <input class="tgl tgl-light" id="cb1" type="checkbox" />
                                    <label class="tgl-btn" for="cb1"></label> -->

                                    <input class="tgl tgl-light" name="mem_activestat" id="mem_activestat" value="" id="cb1" type="checkbox"  />
                                    <label class="tgl-btn" for="mem_activestat"></label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            
            <div class="modal-footer">
                <div class="modal-save">
                   <button class="btn-reg btn-md primary {{$THEMECOLOR}}" type="button" id="save"> {{$Translate.Save}} </button>
                   <button class="btn-reg btn-md primary btn-submit {{$THEMECOLOR}}"  type="button" id="update" style="display: none;">{{$Translate.Update}}</button>
                </div>
            </div>
        </form>
        </div>
    </div>
</div>
{{template "footer" .}}
<script src="/public/js/member/member.js"></script>

{{template "cropmodal" .}}
{{template "footerclose" .}}